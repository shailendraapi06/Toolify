<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>Loan EMI Calculator ‚Äì Calculate Monthly EMI Online</title>
    <meta name="description" content="Calculate your loan EMI instantly with our professional EMI Calculator. Get a clear breakdown of total interest and total payment for home, car, or personal loans.">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%234f46e5%22/><text y=%22.75em%22 x=%22.15em%22 font-size=%2270%22 fill=%22white%22 font-family=%22sans-serif%22 font-weight=%22900%22>‚Çπ</text></svg>">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary: #4f46e5;
            --primary-soft: rgba(79, 70, 229, 0.08);
            --secondary: #f43f5e;
            --dark: #0f172a;
            --white: #ffffff;
            --slate-50: #f8fafc;
            --slate-100: #f1f5f9;
            --slate-200: #e2e8f0;
            --slate-400: #94a3b8;
            --slate-500: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --header-height: 72px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html { scroll-behavior: smooth; font-size: 16px; }
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--slate-50);
            color: var(--dark);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        .container { width: 100%; max-width: 1240px; margin: 0 auto; padding: 0 1.25rem; }

        /* header */
.header {
            position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
            height: var(--header-height); display: flex; align-items: center;
            transition: var(--transition); background: transparent;
        }
        .header.scrolled {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            height: 70px;
            border-bottom: 1px solid var(--slate-200);
            box-shadow: var(--shadow-sm);
        }
        .nav { width: 100%; display: flex; justify-content: space-between; align-items: center; }
        
        /* Modern Logo Styling */
        .logo { 
            display: flex; 
            align-items: center; 
            gap: 0.8rem; 
            text-decoration: none; 
            font-weight: 800; 
            font-size: 1.5rem; 
            color: var(--dark);
            transition: var(--transition);
        }
        .logo-box { 
            background: var(--primary); 
            color: white; 
            width: 38px; 
            height: 38px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            border-radius: 10px; 
            font-style: normal;
            box-shadow: 0 4px 10px rgba(79, 70, 229, 0.3);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        .logo-box svg {
            width: 22px;
            height: 22px;
            fill: currentColor;
        }
        .logo span { color: var(--primary); transition: var(--transition); }
        
        /* Logo Hover Animation */
        .logo:hover .logo-box {
            transform: rotate(10deg) scale(1.1);
            background: var(--primary-dark);
            box-shadow: 0 6px 15px rgba(79, 70, 229, 0.4);
        }
        .logo:hover span {
            color: var(--secondary);
            margin-left: 2px;
        }

        .nav-links { display: none; gap: 2rem; list-style: none; align-items: center; }
        .nav-item { position: relative; }
        .nav-link { 
            font-weight: 700; font-size: 0.95rem; color: var(--slate-600); text-decoration: none;
            padding: 10px 0; transition: var(--transition); display: flex; align-items: center; gap: 4px;
        }
        .nav-link:hover { color: var(--primary); }

        /* Dropdown */
        .dropdown {
            position: absolute; top: 100%; left: 50%; transform: translateX(-50%) translateY(10px);
            background: white; min-width: 220px; border-radius: 16px; padding: 1rem;
            box-shadow: var(--shadow-xl); border: 1px solid var(--slate-200);
            opacity: 0; visibility: hidden; transition: var(--transition);
        }
        .nav-item:hover .dropdown { opacity: 1; visibility: visible; transform: translateX(-50%) translateY(0); }
        .dropdown-item {
            padding: 0.8rem 1rem; text-decoration: none; color: var(--slate-600); font-weight: 600;
            display: block; border-radius: 8px; transition: var(--transition); font-size: 0.9rem;
        }
        .dropdown-item:hover { background: var(--slate-100); color: var(--primary); padding-left: 1.2rem; }

        /* Start Now Button Fix */
        .btn-cta {
            background: var(--dark); color: white; padding: 0.75rem 1.8rem;
            border-radius: 100px; font-weight: 700; font-size: 0.9rem;
            text-decoration: none; transition: var(--transition); border: 2px solid var(--dark);
            display: inline-flex; align-items: center; justify-content: center;
        }
        .btn-cta:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 8px 15px rgba(15, 23, 42, 0.2);
        }

        .mobile-toggle { display: flex; padding: 0.6rem; background: var(--slate-100); border: none; border-radius: 12px; cursor: pointer; color: var(--dark); }

        @media (min-width: 1024px) {
            .nav-links { display: flex; }
            .mobile-toggle { display: none; }
        }

        /* Mobile Menu */
        .mobile-menu {
            position: fixed; inset: 0; background: white; z-index: 2000;
            padding: 2rem; transform: translateX(100%); transition: var(--transition);
            display: flex; flex-direction: column;
        }
        .mobile-menu.active { transform: translateX(0); }
        .mobile-menu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 3rem; }
        .mobile-nav-list { list-style: none; display: flex; flex-direction: column; gap: 1rem; overflow-y: auto; }
        .mobile-nav-link { font-size: 1.5rem; font-weight: 800; text-decoration: none; color: var(--dark); display: flex; align-items: center; justify-content: space-between; }
        .mobile-dropdown { padding-left: 1.5rem; margin-top: 0.5rem; display: none; flex-direction: column; gap: 0.8rem; border-left: 2px solid var(--slate-200); }
        .mobile-dropdown.active { display: flex; }
        .mobile-dropdown-item { font-size: 1.1rem; text-decoration: none; color: var(--slate-500); font-weight: 600; }


        /* Hero */
        .hero { 
            padding: calc(var(--header-height) + 3rem) 0 4rem; 
            text-align: center;
            background: radial-gradient(circle at 80% 10%, rgba(79, 70, 229, 0.05), transparent);
        }
        .hero h1 { font-size: clamp(2.5rem, 8vw, 4rem); font-weight: 800; line-height: 1.1; letter-spacing: -0.05em; margin-bottom: 1rem; }
        .hero h1 span { color: var(--primary); }
        .hero-desc { font-size: 1.15rem; color: var(--slate-500); max-width: 700px; margin: 0 auto 3rem; }

        /* Calculator Card */
        .calculator-card {
            background: var(--white);
            max-width: 650px;
            margin: 0 auto 4rem;
            padding: 2.5rem 2rem;
            border-radius: 2rem;
            border: 1px solid var(--slate-200);
            box-shadow: var(--shadow-xl);
        }

        .input-group { text-align: left; margin-bottom: 1.5rem; }
        .input-group label { display: block; font-weight: 700; margin-bottom: 0.6rem; font-size: 0.9rem; color: var(--slate-500); text-transform: uppercase; }
        .input-wrapper { position: relative; }
        .input-wrapper input {
            width: 100%;
            padding: 1.25rem;
            border-radius: 1.25rem;
            border: 2px solid var(--slate-100);
            background: var(--slate-50);
            font-size: 1.1rem;
            font-weight: 800;
            transition: var(--transition);
            font-family: inherit;
            color: var(--dark);
        }
        .input-wrapper input:focus {
            outline: none;
            border-color: var(--primary);
            background: white;
            box-shadow: 0 0 0 4px var(--primary-soft);
        }
        .input-wrapper .unit {
            position: absolute; right: 1.25rem; top: 50%; transform: translateY(-50%);
            font-weight: 800; color: var(--slate-400); font-size: 0.8rem;
        }

        .tenure-toggle {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            background: var(--slate-100);
            padding: 0.4rem;
            border-radius: 1rem;
        }
        .toggle-btn {
            padding: 0.6rem;
            border: none;
            border-radius: 0.75rem;
            background: transparent;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            color: var(--slate-500);
        }
        .toggle-btn.active {
            background: var(--white);
            color: var(--primary);
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .btn-main {
            width: 100%;
            padding: 1.25rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 1.25rem;
            font-size: 1.1rem;
            font-weight: 800;
            cursor: pointer;
            transition: var(--transition);
            box-shadow: 0 10px 25px -5px rgba(79, 70, 229, 0.4);
            margin-top: 1rem;
        }
        .btn-main:hover { transform: translateY(-2px); background: var(--dark); box-shadow: 0 15px 30px -5px rgba(15, 23, 42, 0.3); }

        /* Results Panel */
        .result-panel {
            margin-top: 2.5rem;
            padding-top: 2.5rem;
            border-top: 2px dashed var(--slate-100);
            display: none;
            animation: fadeIn 0.5s ease forwards;
        }
        .result-panel.active { display: block; }

        .emi-score-box {
            background: var(--primary-soft);
            padding: 2rem;
            border-radius: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        .emi-amount { font-size: 2.5rem; font-weight: 900; line-height: 1; color: var(--primary); }
        .emi-label { font-size: 0.85rem; font-weight: 700; color: var(--slate-500); text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.5rem; }

        .emi-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        .emi-card {
            background: var(--slate-50);
            padding: 1.5rem 1rem;
            border-radius: 1.25rem;
            text-align: center;
        }
        .emi-val { font-size: 1.25rem; font-weight: 800; color: var(--dark); display: block; }
        .emi-sub { font-size: 0.7rem; font-weight: 700; color: var(--slate-500); text-transform: uppercase; }

        .total-payable-card {
            background: var(--slate-50);
            padding: 2rem;
            border-radius: 1.5rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        /* Pie Chart Simulation */
        .pie-visual {
            margin-top: 2rem;
            text-align: left;
        }
        .bar-container {
            height: 12px;
            background: var(--slate-100);
            border-radius: 10px;
            display: flex;
            overflow: hidden;
            margin: 0.75rem 0;
        }
        .bar-p { background: var(--primary); transition: width 0.5s ease; }
        .bar-i { background: var(--secondary); transition: width 0.5s ease; }
        
        .legend { display: flex; gap: 1.5rem; font-size: 0.75rem; font-weight: 700; }
        .legend-item { display: flex; align-items: center; gap: 0.4rem; }
        .dot { width: 8px; height: 8px; border-radius: 50%; }

        /* Tools Recommendation Cards (Style from Age Calculator) */
        .tools-section { padding: 6rem 0; background: var(--white); }
        .tools-header { text-align: center; margin-bottom: 3.5rem; }
        .tools-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
            gap: 1.5rem; 
        }
        .tool-card {
            background: var(--slate-50);
            padding: 2.5rem 2rem;
            border-radius: 1.5rem;
            text-decoration: none;
            transition: var(--transition);
            border: 1px solid transparent;
            display: block;
        }
        .tool-card:hover {
            transform: translateY(-8px);
            background: var(--white);
            border-color: var(--primary);
            box-shadow: var(--shadow-xl);
        }
        .tool-card .icon { font-size: 2rem; margin-bottom: 1rem; display: block; text-decoration: none; }
        .tool-card h3 { font-size: 1.25rem; font-weight: 800; color: var(--dark); margin-bottom: 0.5rem; text-decoration: none; }
        .tool-card p { font-size: 0.95rem; color: var(--slate-500); line-height: 1.5; text-decoration: none; }

        /* SEO Section */
        .content-area { padding: 4rem 0; border-top: 1px solid var(--slate-200); }
        .content-area h2 { font-size: 2rem; font-weight: 800; margin-bottom: 1.5rem; letter-spacing: -0.03em; }
        .content-area p { font-size: 1.1rem; color: var(--slate-500); margin-bottom: 1.5rem; }

          /* Footer */
        .footer { background: #020617; color: white; padding: 6rem 0 4rem; position: relative; }
        .footer-grid { display: grid; gap: 4rem; grid-template-columns: 1fr; margin-bottom: 5rem; }
        @media (min-width: 768px) { .footer-grid { grid-template-columns: 2fr 1fr 1fr 1fr; } }
        
        .footer-brand p { color: var(--slate-400); font-size: 1rem; margin-top: 1.5rem; max-width: 350px; line-height: 1.8; }
        .footer-title { font-size: 0.9rem; font-weight: 800; text-transform: uppercase; color: var(--primary-light); letter-spacing: 0.15em; margin-bottom: 2rem; }
        .footer-links { list-style: none; display: flex; flex-direction: column; gap: 1.2rem; }
        .footer-links a { color: var(--slate-400); text-decoration: none; font-size: 1rem; font-weight: 600; transition: var(--transition); }
        .footer-links a:hover { color: white; transform: translateX(8px); }

        .footer-bottom { border-top: 1px solid rgba(255,255,255,0.08); padding-top: 3rem; display: flex; flex-direction: column; gap: 2rem; }
        @media (min-width: 768px) { .footer-bottom { flex-direction: row; justify-content: space-between; align-items: center; } }
        .social-links { display: flex; gap: 1.5rem; }
        .social-icon { width: 44px; height: 44px; border-radius: 50%; background: rgba(255,255,255,0.05); display: flex; align-items: center; justify-content: center; transition: var(--transition); border: 1px solid rgba(255,255,255,0.1); color: white; text-decoration: none; }
        .social-icon:hover { background: var(--primary); transform: translateY(-5px); border-color: var(--primary); }

        /* Animation utilities */
        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.6s ease-out; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        @media (max-width: 768px) {
            .hero { padding: 100px 0 40px; min-height: auto; }
            .hero-btns { flex-direction: column; align-items: stretch; padding: 0 1.5rem; }
            .section { padding: 4rem 0; }
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        @media (max-width: 600px) {
            .hero h1 { font-size: 2.2rem; }
            .emi-grid { grid-template-columns: 1fr; }
            .calculator-card { padding: 2rem 1.25rem; margin: 0 1rem 3rem; }
        }

        .header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--header-height);
  z-index: 1000;
  background: #ffffff;           /* üî• solid background */
  border-bottom: 1px solid var(--slate-200);
}

.header.scrolled {
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
}
/* smooth navigation transition */
body {
  opacity: 1;
  transition: opacity 0.18s ease;
}

body.is-leaving {
  opacity: 0;
}

    </style>
</head>
<body>

        <!-- Navbar -->
   <div id="navbar"></div>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Loan <span>EMI</span> Calculator</h1>
                <p class="hero-desc">Plan your monthly budget with our precision EMI tool. Get an instant breakdown of your interest and principal payments for any loan.</p>

                <div class="calculator-card">
                    <div class="input-group">
                        <label>Loan Amount</label>
                        <div class="input-wrapper">
                            <input type="number" id="amount" placeholder="5,00,000" min="1">
                            <span class="unit">‚Çπ</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Interest Rate (% P.A)</label>
                        <div class="input-wrapper">
                            <input type="number" id="rate" step="0.1" placeholder="8.5" min="0.1">
                            <span class="unit">%</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Loan Tenure</label>
                        <div class="tenure-toggle">
                            <button class="toggle-btn active" onclick="setTenureMode('years', this)">Years</button>
                            <button class="toggle-btn" onclick="setTenureMode('months', this)">Months</button>
                        </div>
                        <div class="input-wrapper">
                            <input type="number" id="tenure" placeholder="5" min="1">
                            <span id="tenure-unit" class="unit">YRS</span>
                        </div>
                    </div>

                    <button class="btn-main" onclick="calculateEMI()">Calculate Monthly EMI</button>

                    <!-- Results Panel -->
                    <div id="result" class="result-panel">
                        <div class="emi-score-box">
                            <div class="emi-label">Monthly EMI Payment</div>
                            <div id="res-emi" class="emi-amount">‚Çπ0</div>
                        </div>

                        <div class="emi-grid">
                            <div class="emi-card">
                                <span class="emi-sub">Principal Amount</span>
                                <span id="res-principal" class="emi-val">‚Çπ0</span>
                            </div>
                            <div class="emi-card">
                                <span class="emi-sub">Total Interest</span>
                                <span id="res-interest" class="emi-val" style="color: var(--secondary);">‚Çπ0</span>
                            </div>
                        </div>

                        <div class="total-payable-card">
                            <div class="emi-label">Total Amount Payable</div>
                            <div id="res-total" class="emi-val" style="font-size: 1.8rem; font-weight: 900;">‚Çπ0</div>
                        </div>

                        <div class="pie-visual">
                            <div style="font-weight: 800; font-size: 0.75rem; color: var(--slate-500); margin-bottom: 0.5rem; text-transform: uppercase;">Visual Breakdown</div>
                            <div class="bar-container">
                                <div id="bar-p" class="bar-p" style="width: 50%;"></div>
                                <div id="bar-i" class="bar-i" style="width: 50%;"></div>
                            </div>
                            <div class="legend">
                                <div class="legend-item"><div class="dot" style="background: var(--primary);"></div> Principal</div>
                                <div class="legend-item"><div class="dot" style="background: var(--secondary);"></div> Interest</div>
                            </div>
                        </div>
                    </div>
                </div>

                <p style="font-size: 0.85rem; color: var(--slate-400); font-style: italic; max-width: 500px; margin: 0 auto;">Disclaimer: Calculations are based on mathematical formulas. Actual bank EMI may vary slightly.</p>
            </div>
        </section>

        <section class="tools-section">
            <div class="container">
                <div class="tools-header">
                    <h2>Other Useful Utilities</h2>
                    <p style="color: var(--slate-500);">Explore our collection of precise calculation tools.</p>
                </div>
                <div class="tools-grid">
                    <a href="/Tools/Calculators/BMI_calculator.html" class="tool-card">
                        <span class="icon">‚öñÔ∏è</span>
                        <h3>BMI Calculator</h3>
                        <p>Check your body mass index and health category status instantly.</p>
                    </a>
                    <a href="/Tools/Calculators/Age_calculator.html" class="tool-card">
                        <span class="icon">üìÖ</span>
                        <h3>Age Calculator</h3>
                        <p>Calculate your exact age in years, months, and days for your next goal.</p>
                    </a>
                    <a href="/Tools/Calculators/SIP_calculator.html" class="tool-card">
                        <span class="icon">üìà</span>
                        <h3>SIP Calculator</h3>
                        <p>Calculate potential returns on your Systematic Investment Plans easily.</p>
                    </a>
                </div>
            </div>
        </section>

        <section class="content-area">
            <div class="container">
                <h2>What is Loan EMI?</h2>
                <p>EMI stands for Equated Monthly Installment. It is a fixed payment amount made by a borrower to a lender at a specified date each calendar month. EMIs are applied to both interest and principal each month so that over a specified number of years, the loan is paid off in full.</p>
                
                <h2>How EMI is Calculated</h2>
                <p>The EMI is calculated using the standard formula: <b>EMI = [P x R x (1+R)^N] / [(1+R)^N - 1]</b>, where P is the principal loan amount, R is the monthly interest rate, and N is the number of monthly installments.</p>
                
                <h2>Benefits of Using an EMI Calculator</h2>
                <p>Using an online EMI calculator helps you plan your monthly budget by knowing exactly how much you need to set aside for loan repayments. It allows you to experiment with different loan amounts and tenures to find a repayment plan that fits your financial capacity.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <div id="footer"></div>

    <script>
        let tenureMode = 'years';

        function setTenureMode(mode, btn) {
            tenureMode = mode;
            document.querySelectorAll('.toggle-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById('tenure-unit').innerText = mode === 'years' ? 'YRS' : 'MTS';
        }

        function calculateEMI() {
            const P = parseFloat(document.getElementById('amount').value);
            const annualRate = parseFloat(document.getElementById('rate').value);
            const tenureVal = parseFloat(document.getElementById('tenure').value);

            if (!P || !annualRate || !tenureVal) {
                alert("Please enter all values to calculate EMI.");
                return;
            }

            const R = (annualRate / 12) / 100;
            const N = tenureMode === 'years' ? tenureVal * 12 : tenureVal;

            // EMI = [P x R x (1+R)^N] / [(1+R)^N - 1]
            const emi = (P * R * Math.pow(1 + R, N)) / (Math.pow(1 + R, N) - 1);
            
            const totalAmount = emi * N;
            const totalInterest = totalAmount - P;

            updateUI(emi, P, totalInterest, totalAmount);
        }

        function formatCurrency(num) {
            return "‚Çπ" + Math.round(num).toLocaleString('en-IN');
        }

        function updateUI(emi, principal, interest, total) {
            const panel = document.getElementById('result');
            
            document.getElementById('res-emi').innerText = formatCurrency(emi);
            document.getElementById('res-principal').innerText = formatCurrency(principal);
            document.getElementById('res-interest').innerText = formatCurrency(interest);
            document.getElementById('res-total').innerText = formatCurrency(total);

            // Update Bar Visual
            const pPercent = (principal / total) * 100;
            const iPercent = (interest / total) * 100;
            document.getElementById('bar-p').style.width = pPercent + "%";
            document.getElementById('bar-i').style.width = iPercent + "%";

            panel.classList.add('active');
            
            if (window.innerWidth < 768) {
                setTimeout(() => {
                    panel.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 100);
            }
        }
    </script>

    <!-- js for navbar and footer -->
 <script>
fetch("/include/navbar.html")
  .then(res => res.text())
  .then(data => {
    document.getElementById("navbar").innerHTML = data;
  });

fetch("/include/footer.html")
  .then(res => res.text())
  .then(data => {
    document.getElementById("footer").innerHTML = data;
  });
</script>


<script>
document.addEventListener("click", function (e) {

  /* =========================
     MOBILE MENU OPEN
  ========================== */
  if (e.target.closest("#openMenu")) {
    const menu = document.getElementById("mobileMenu");
    if (menu) {
      menu.classList.add("active");
      document.body.style.overflow = "hidden";
    }
  }

  /* =========================
     MOBILE MENU CLOSE
  ========================== */
  if (e.target.closest("#closeMenu")) {
    const menu = document.getElementById("mobileMenu");
    if (menu) {
      menu.classList.remove("active");
      document.body.style.overflow = "";
    }
  }

  /* =========================
     MOBILE CATEGORIES DROPDOWN
     (MATCHES YOUR navbar.html)
  ========================== */
  if (e.target.closest("#mobileCatToggle")) {
    const dropdown = document.getElementById("mobileDropdown");
    if (dropdown) {
      dropdown.classList.toggle("active");
    }
  }

});

// page navigation with fade effect
document.addEventListener("click", function (e) {
  const link = e.target.closest("a");
  if (!link) return;

  const href = link.getAttribute("href");
  if (!href) return;

  // ‚ùå hash links ignore ( #popular , /index.html#popular )
  if (href.includes("#")) return;

  // ‚ùå new tab links ignore
  if (link.hasAttribute("target")) return;

  // ‚ùå external links ignore
  if (link.origin !== location.origin) return;

  // ‚ùå empty / js links ignore
  if (href === "#" || href.startsWith("javascript")) return;

  // ‚úÖ real page navigation only
  e.preventDefault();
  document.body.classList.add("is-leaving");

  setTimeout(() => {
    window.location.href = link.href;
  }, 120);
});


window.addEventListener("pageshow", function (event) {
  if (event.persisted) {
    window.location.reload();
  }
});
</script>


</body>
</html>